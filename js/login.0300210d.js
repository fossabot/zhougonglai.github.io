(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"7fa3":function(i,n,s){"use strict";var t=s("b8ca"),a=s.n(t);a.a},a55b:function(i,n,s){"use strict";s.r(n);var t=function(){var i=this,n=i.$createElement,s=i._self._c||n;return s("div",{attrs:{id:"login"}},[s("v-btn",{directives:[{name:"ga",rawName:"v-ga",value:i.$ga.commands.trackEvent.bind(this,"backHome","click","返回首页",(new Date).toString()),expression:"$ga.commands.trackEvent.bind(this,'backHome', 'click', '返回首页', new Date().toString())"}],staticClass:"backhome",attrs:{icon:"",to:"/"}},[s("v-icon",[i._v("arrow_back")])],1),s("v-card",[s("v-card-title",[s("h3",{staticClass:"headline ma-0"},[i._v("\n        Sign In\n      ")]),s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-landilogo1"}})])]),s("v-card-text",[s("v-form",{attrs:{"lazy-validation":""},model:{value:i.login.valid,callback:function(n){i.$set(i.login,"valid",n)},expression:"login.valid"}},[s("v-text-field",{attrs:{label:"Email address",type:"email","prepend-inner-icon":"person_outline",solo:"",required:i.login.valid,rules:i.login.valid?[]:i.login.mailRules},model:{value:i.login.email,callback:function(n){i.$set(i.login,"email",n)},expression:"login.email"}},[i.login.loading?s("v-fade-transition",{attrs:{slot:"append"},slot:"append"},[s("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}})],1):i._e()],1),s("v-text-field",{attrs:{label:"Password",type:i.login.pwType?"password":"text","prepend-inner-icon":i.login.pwType?"lock":"lock_open",solo:"",required:i.login.valid,hint:i.login.score[i.login.strength]+i.login.warning+i.login.suggestions,rules:i.login.valid?[]:i.login.passwordRules},on:{input:i.pwInput,"click:prepend-inner":i.togglePWType},model:{value:i.login.password,callback:function(n){i.$set(i.login,"password",n)},expression:"login.password"}},[s("v-fade-transition",{attrs:{slot:"append"},slot:"append"},[i.login.loading?s("v-progress-circular",{attrs:{size:"24",color:"info",indeterminate:""}}):s("div",{staticClass:"password-input-docs"},[s("div",{staticClass:"password-input-doc",class:{select:4===i.login.strength}}),s("div",{staticClass:"password-input-doc",class:{select:i.login.strength>=3}}),s("div",{staticClass:"password-input-doc",class:{select:i.login.strength>=2}}),s("div",{staticClass:"password-input-doc",class:{select:i.login.strength>=1}})])],1)],1),s("v-btn",{attrs:{loading:i.login.loading,block:"",round:"",color:"primary"},on:{click:i.signIn}},[i._v("Sign In")])],1)],1),s("v-card-actions",i._l(i.icons,function(n,t){return s("v-btn",{key:t,staticClass:"mx-3",class:t,attrs:{icon:""}},[s("v-icon",{attrs:{size:"24px"}},[i._v(i._s(n))])],1)}))],1)],1)},a=[],e=s("c93e"),o=s("580e"),l=s.n(o),r=s("2f62"),c={name:"LoginComponent",data:function(){return{icons:{fb:"fab fa-facebook",tw:"fab fa-twitter",google:"fab fa-google-plus",linkedin:"fab fa-linkedin"},login:{email:"",password:"",pwType:!0,loading:!1,valid:!0,strength:0,score:{0:"Worst ☹ ",1:"Bad ☹ ",2:"Weak ☹ ",3:"Good ☺ ",4:"Strong ☻ "},warning:"",suggestions:"",passwordRules:[function(i){return!!i||"Password is required"},function(i){return i.length<=10||"Password must be less than 10 characters"}],mailRules:[function(i){return!!i||"E-mail is required"},function(i){return/.+@.+/.test(i)||"E-mail must be valid"}]}}},methods:Object(e["a"])({togglePWType:function(){this.login.pwType=!this.login.pwType},pwInput:function(){var i=l()(this.login.password),n=i.score,s=i.feedback;this.login.strength=n,this.login.warning=s.warning,this.login.suggestions=s.suggestions},signIn:function(){var i=this;this.login.loading=!0,this.$firebase.auth().signInWithEmailAndPassword(this.login.email,this.login.password).then(function(){i.login.loading=!1,i.$router.push("/dashboard")}).catch(function(n){var s=n.message;i.login.loading=!1,i.openSnackBar({message:s})})}},Object(r["b"])("user",["setInfo"]),Object(r["b"])("global",["openSnackBar"])),created:function(){var i=this;this.$firebase.auth().onAuthStateChanged(function(n){if(n){var s=n.displayName,t=n.email,a=n.emailVerified,e=n.photoURL,o=n.isAnonymous,l=n.uid,r=n.providerData;i.setInfo({displayName:s,email:t,emailVerified:a,photoURL:e,isAnonymous:o,uid:l,providerData:r})}})}},d=c,g=(s("7fa3"),s("2877")),p=Object(g["a"])(d,t,a,!1,null,null,null);p.options.__file="Login.vue";n["default"]=p.exports},b8ca:function(i,n,s){}}]);