{"version":3,"sources":["webpack:///./src/views/Login.vue?51aa","webpack:///./src/views/Login.vue?3a6d","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","directives","name","rawName","value","$ga","commands","trackEvent","bind","Date","toString","expression","staticClass","icon","to","_v","aria-hidden","xlink:href","lazy-validation","model","login","callback","$$v","$set","label","type","prepend-inner-icon","solo","required","valid","rules","mailRules","pwType","hint","score","strength","warning","suggestions","passwordRules","on","input","pwInput","click:prepend-inner","togglePWType","slot","class","select","loading","block","round","color","click","signIn","_l","val","key","size","_s","staticRenderFns","Loginvue_type_script_lang_js_","data","icons","fb","tw","google","linkedin","email","password","0","1","2","3","4","v","length","test","methods","Object","objectSpread","_zxcvbn","main_default","feedback","_this","$firebase","auth","signInWithEmailAndPassword","then","$router","push","catch","_ref","message","openSnackBar","vuex_esm","created","_this2","onAuthStateChanged","user","displayName","emailVerified","photoURL","isAnonymous","uid","providerData","setInfo","views_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/login.2e781d9f.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('v-btn',{directives:[{name:\"ga\",rawName:\"v-ga\",value:(_vm.$ga.commands.trackEvent.bind(this,'backHome', 'click', '返回首页', new Date().toString())),expression:\"$ga.commands.trackEvent.bind(this,'backHome', 'click', '返回首页', new Date().toString())\"}],staticClass:\"backhome\",attrs:{\"icon\":\"\",\"to\":\"/\"}},[_c('v-icon',[_vm._v(\"arrow_back\")])],1),_c('v-card',[_c('v-card-title',[_c('h3',{staticClass:\"headline ma-0\"},[_vm._v(\"\\n        Sign In\\n      \")]),_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-landilogo1\"}})])]),_c('v-card-text',[_c('v-form',{attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.login.valid),callback:function ($$v) {_vm.$set(_vm.login, \"valid\", $$v)},expression:\"login.valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Email address\",\"type\":\"email\",\"prepend-inner-icon\":\"person_outline\",\"solo\":\"\",\"required\":_vm.login.valid,\"rules\":_vm.login.valid ? [] : _vm.login.mailRules},model:{value:(_vm.login.email),callback:function ($$v) {_vm.$set(_vm.login, \"email\", $$v)},expression:\"login.email\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":_vm.login.pwType? 'password': 'text',\"prepend-inner-icon\":_vm.login.pwType? 'lock': 'lock_open',\"solo\":\"\",\"required\":_vm.login.valid,\"hint\":_vm.login.score[_vm.login.strength] + _vm.login.warning + _vm.login.suggestions,\"rules\":_vm.login.valid ? [] : _vm.login.passwordRules},on:{\"input\":_vm.pwInput,\"click:prepend-inner\":_vm.togglePWType},model:{value:(_vm.login.password),callback:function ($$v) {_vm.$set(_vm.login, \"password\", $$v)},expression:\"login.password\"}},[_c('v-fade-transition',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_c('div',{staticClass:\"password-input-docs\"},[_c('div',{staticClass:\"password-input-doc\",class:{select:_vm.login.strength === 4}}),_c('div',{staticClass:\"password-input-doc\",class:{select:_vm.login.strength >= 3}}),_c('div',{staticClass:\"password-input-doc\",class:{select:_vm.login.strength >= 2}}),_c('div',{staticClass:\"password-input-doc\",class:{select:_vm.login.strength >= 1}})])])],1),_c('v-btn',{attrs:{\"loading\":_vm.login.loading,\"block\":\"\",\"round\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.signIn}},[_vm._v(\"Sign In\")])],1)],1),_c('v-card-actions',_vm._l((_vm.icons),function(val,key){return _c('v-btn',{key:key,staticClass:\"mx-3\",class:key,attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"size\":\"24px\"}},[_vm._v(_vm._s(val))])],1)}))],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"login\">\n    <v-btn icon class=\"backhome\" to=\"/\" \n    v-ga=\"$ga.commands.trackEvent.bind(this,'backHome', 'click', '返回首页', new Date().toString())\">\n      <v-icon>arrow_back</v-icon>\n    </v-btn>\n    <v-card>\n      <v-card-title>\n        <h3 class=\"headline ma-0\">\n          Sign In\n        </h3>\n        <svg class=\"icon\" aria-hidden=\"true\">\n            <use xlink:href=\"#icon-landilogo1\"></use>\n        </svg>\n      </v-card-title>\n      <v-card-text>\n        <v-form lazy-validation v-model=\"login.valid\">\n          <v-text-field v-model=\"login.email\" label=\"Email address\" \n            type=\"email\" prepend-inner-icon=\"person_outline\" \n            solo :required=\"login.valid\" \n            :rules=\"login.valid ? [] : login.mailRules\" />\n          <v-text-field v-model=\"login.password\" label=\"Password\"\n            :type=\"login.pwType? 'password': 'text'\" :prepend-inner-icon=\"login.pwType? 'lock': 'lock_open'\" \n            solo :required=\"login.valid\" :hint=\"login.score[login.strength] + login.warning + login.suggestions\"\n            @input=\"pwInput\" :rules=\"login.valid ? [] : login.passwordRules\"\n            @click:prepend-inner=\"togglePWType\">\n            <v-fade-transition slot=\"append\">\n              <div class=\"password-input-docs\">\n                <div class=\"password-input-doc\" :class=\"{select:login.strength === 4}\"/>\n                <div class=\"password-input-doc\" :class=\"{select:login.strength >= 3}\"/>\n                <div class=\"password-input-doc\" :class=\"{select:login.strength >= 2}\"/>\n                <div class=\"password-input-doc\" :class=\"{select:login.strength >= 1}\"/>\n              </div>\n            </v-fade-transition>\n          </v-text-field>\n          <v-btn :loading=\"login.loading\" block round color=\"primary\" @click=\"signIn\">Sign In</v-btn>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn v-for=\"(val, key) in icons\" :key=\"key\" class=\"mx-3\" :class=\"key\" icon>\n          <v-icon size=\"24px\">{{val}}</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </div>\n</template>\n<script>\nimport zxcvbn from 'zxcvbn'\nimport {mapActions} from 'vuex'\n\nexport default {\n  name: 'LoginComponent',\n  data:() => ({\n    icons: {\n      fb:'fab fa-facebook',\n      tw:'fab fa-twitter',\n      google:'fab fa-google-plus',\n      linkedin:'fab fa-linkedin'\n    },\n    login: {\n      email: '',\n      password: '',\n      pwType: true,\n      loading: false,\n      valid: true,\n      strength: 0,\n      score: {\n        0: \"Worst ☹ \",\n        1: \"Bad ☹ \",\n        2: \"Weak ☹ \",\n        3: \"Good ☺ \",\n        4: \"Strong ☻ \"\n      },\n      warning: '',\n      suggestions: '',\n      passwordRules: [\n        v => !!v || 'Password is required',\n        v => v.length <= 10 || 'Password must be less than 10 characters'\n      ],\n      mailRules: [\n        v => !!v || 'E-mail is required',\n        v => /.+@.+/.test(v) || 'E-mail must be valid'\n      ]\n    },\n  }),\n  methods: {\n    togglePWType(){\n      this.login.pwType = !this.login.pwType\n    },\n    pwInput(){\n      const {score , feedback} = zxcvbn(this.login.password);\n      this.login.strength = score\n      this.login.warning = feedback.warning\n      this.login.suggestions = feedback.suggestions\n    },\n    signIn(){\n      this.login.loading = true\n      this.$firebase.auth().signInWithEmailAndPassword(this.login.email, this.login.password)\n      .then(() => {\n        this.login.loading = false\n        this.$router.push('/dashboard')\n      })\n      .catch(({message}) => {\n        this.login.loading = false\n        this.openSnackBar({ message })\n      });\n    },\n    ...mapActions('user',[\n      'setInfo'\n    ]),\n    ...mapActions('global', [\n      'openSnackBar'\n    ])\n  },\n  created(){\n    this.$firebase.auth().onAuthStateChanged((user) =>{\n      if (user) {\n        const {displayName, email, emailVerified, photoURL, isAnonymous, uid, providerData} = user;\n        this.setInfo({displayName, email, emailVerified, photoURL, isAnonymous, uid, providerData})\n      }\n    });\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n#login\n  width 100%\n  flex 1\n  display flex\n  align-items center\n  justify-content center\n  .backhome\n    position absolute\n    top 25px\n    left 25px\n\n  .v-card\n    width 400px\n    .v-card__title\n      align-items center\n      justify-content space-between\n      .icon\n        height 32px\n        width 32px\n    .v-card__actions\n      justify-content center\n      .fb:hover\n        color #4267b2\n      .tw:hover\n        color #1DA1F2\n      .google:hover\n        color #F44336\n      .linkedin:hover\n        color #0072b3\n\n  .password-input-docs\n    .password-input-doc\n      height 3px\n      width 4px\n      margin 2px\n      background-color #e3f2ff\n      &.select\n        background-color #2895F1\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5185acd3&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}